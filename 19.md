### Глава 19: Изменение служб

#### 19.1 Основы
- Переход должен быть плавным и незаметным для пользователей.
- Успешный переход зависит от надежной инфраструктуры.
- Распространение изменения должно быть медленным, начиная с системных администраторов.
- План отмены должен быть готов на случай необходимости.
- Распространение информации играет ключевую роль.
- Минимизируйте вмешательство в работу пользователей.
- Используйте метод протестующей толпы для выполнения изменений.
- Решите, как выполнять задачи: горизонтально или вертикально.

#### 19.1.1 Минимизируйте вмешательство
- Стремитесь к минимальному влиянию на пользователей.
- Минимизируйте время недоступности службы.
- Планируйте перерыв в обслуживание на наименее загруженное время.
- Избегайте изменения клиентского программного обеспечения, если возможно.
- Обеспечьте полную поддержку нового продукта или службы перед их распространением.

#### 19.1.2 Горизонтально или вертикально
- Горизонтальный подход: выполняйте одну задачу для всех пользователей перед переходом к другой задаче.
- Вертикальный подход: выполняйте все необходимые задачи для каждого пользователя сразу.
- Комбинированный подход: группируйте перерывы, заметные для пользователей, и выполняйте остальные изменения незаметно.

#### 19.1.3 Распространение информации
- Заблаговременно распространяйте информацию об изменении.
- Общайтесь с пользователями для выявления всех способов использования службы.
- Убедитесь, что пользователи знают о предстоящих изменениях и их влиянии.
- Планируйте изменения так, чтобы минимизировать влияние на пользователей.

#### 19.1.4 Обучение
- Предоставляйте обучение, если изменения затрагивают работу пользователей.
- Обучение может быть необходимо даже для небольших изменений.
- Включайте обучение в планы распространения, особенно для нетехнически подготовленных пользователей.
- Тесно взаимодействуйте с пользователями и руководством для подготовки планов поддержки обучения.

#### 19.1.5 Начинайте с небольших групп
- Выполняйте распространение постепенно, начиная с небольших групп.
- Начните с перевода своей собственной системы и систем коллег.
- Расширяйте группу тестирования, включая всех системных администраторов, прежде чем переходить к пользователям.
- Переходите от более гибких пользователей к более консервативным.

#### 19.1.6 Мгновенные изменения: делать все сразу
- Избегайте одновременного перевода всех сотрудников на новую систему.
- Переход будет плавнее, если сначала перевести на новую систему нескольких желающих.
- Используйте технологии для медленного распространения изменения.
- Предоставьте период адаптации, позволяя пользователям испытать новую службу и вернуться к старой, если необходимо.
- Планируйте мгновенные изменения тщательно и тестируйте их.
- Обеспечьте двусторонний обмен информацией и план отмены.

#### 19.1.7 План отмены
- План отмены критичен для перехода на новую службу.
- План отмены позволяет быстро вернуть службу к предыдущему состоянию в случае неудачи.
- Сохраняйте механизм отмены на некоторое время для уверенности в успешном переходе.
- Заранее определите момент для выполнения плана отмены.
- Используйте мгновенный откат для минимизации влияния на пользователей.

#### 19.2 Тонкости
- Мгновенный откат позволяет быстро вернуться к известному рабочему состоянию.
- Сохраняйте старые системы для мгновенного отката.
- Используйте DNS для быстрого переключения между службами.
- Запускайте новую службу на другом порту для тестирования.
- Используйте символические ссылки для переключения между версиями программ.
- Планируйте и конфигурируйте мгновенный откат с минимальным влиянием на пользователей.

#### 19.2.2 Снижение количества изменений
- Планирование может снизить необходимость обновлений и изменений.
- Выбирайте продукты, которые легко расширяются и интегрируются.
- Используйте стандартные протоколы для связи клиента и сервера.
- Применяйте автоматическую сетевую конфигурацию и хорошую документацию.
- Используйте имена машин, основанные на их службах, для упрощения переноса служб.

#### 19.2.3 Изменения веб-служб
- Веб-службы редко требуют обновления клиентского ПО, так как работают с любым веб-браузером.
- Службы должны поддерживать различные веб-браузеры и устройства.
- Служба не должна отказываться работать с неподдерживаемыми браузерами.
- Поддержка разработчиков важна для масштабных изменений.
- Свяжитесь с разработчиком для выяснения препятствий и получения поддержки.
- Раскрывайте свои планы разработчику и запрашивайте поддержку.

#### 19.3 Заключение
- Успешный проект перехода основывается на серьезном планировании и надежной инфраструктуре.
- Успех оценивается по минимальному негативному влиянию на пользователей.
- Переход должен минимально вмешиваться в работу пользователей.
- Принципы распространения одинаковы для обновлений, новых служб или переходов.
- Начните с планирования, медленно распространяйте изменения с проверками и будьте готовы отменить изменения при необходимости.
