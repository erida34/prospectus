# Глава 9: Документация

## Основные идеи:
- **Документация** — это запись о том, где что находится, как что-то выполняется, и обеспечение доступности информации.
- **Цель**: облегчение работы системных администраторов и пользователей.
- **Преимущества**:
  - Снижение нагрузки на службу поддержки.
  - Упрощение передачи задач.
  - Возможность уйти в отпуск без страха за работоспособность системы.
  - Предотвращение ошибок.

## Почему документация важна:
- **Создание "памяти" организации**: документация помогает команде развиваться и повышать уровень знаний.
- **Избыточность**: документация как RAID-массив для системных администраторов.
- **Развитие сотрудников**: документация позволяет обучать новых сотрудников и распределять задачи.

## 9.1. Основы

### 9.1.1. Что документировать
- **Критерии для документирования**:
  1. **Сложные и неприятные процессы**:
     - Пример: настройка рабочего места для нового сотрудника.
     - Документация помогает избежать ошибок и упрощает передачу задач.
  2. **Часто повторяющиеся вопросы/задачи**:
     - Пример: доступ к корпоративной сети в поездках.
     - Документация снижает нагрузку на службу поддержки.

- **Пример**: Том документирует задачи, которые не любит выполнять, чтобы избежать ошибок и передать их другим.

### Преимущества документирования:
- **Упрощение найма**: можно нанять менее опытного сотрудника, если задачи задокументированы.
- **Создание должностных инструкций**:
  - **Обязанности**: список задач, которые нужно выполнять.
  - **Навыки**: технологии и знания, необходимые для выполнения задач.

## Итог:
- Документация — это инструмент для повышения эффективности и снижения нагрузки.
- Документирование сложных и часто повторяющихся задач помогает избежать ошибок и упрощает передачу обязанностей.

# 9.1.2. Простой шаблон для начала

## Основные элементы документа:
1. **Название**:
   - Простое и понятное название.
   - Пример: "Настройка рабочего места для нового сотрудника".

2. **Метаданные**:
   - Контактная информация автора.
   - Дата последней редакции или история изменений.
   - Пример: "Автор: Иван Иванов, последнее обновление: 01.01.2023".

3. **Что**:
   - Краткое описание цели документа.
   - Пример: "Документ описывает шаги для настройки рабочего места нового сотрудника, включая создание учетных записей и настройку оборудования".

4. **Как**:
   - Пошаговые инструкции для выполнения задачи.
   - Для сложных шагов добавьте пояснение "Почему".
   - Пример: 
     - Шаг 1: Создать учетную запись в ActiveDirectory.
     - Шаг 2: Настроить почтовый ящик (Почему? Чтобы сотрудник мог получать письма с первого дня работы).

## Проверка качества документа:
- **Точность**: проверьте каждый шаг, чтобы избежать ошибок.
- **Тестирование**:
  - Выполните шаги самостоятельно.
  - Попросите коллегу выполнить задачу по документу и предоставить обратную связь.
  - Дайте бумажный экземпляр для пометок.

## Создание краткого руководства:
- После успешного тестирования создайте краткую версию документа.
- **Цель**: помочь опытным администраторам быстро выполнить задачу.
- Пример: "Краткое руководство по добавлению дистрибутивов в базу ПО".

### Пример: два набора документации
- **Полная документация**: подробные инструкции с пояснениями.
- **Краткое руководство**: только команды и минимальные пояснения.
- **Преимущества**:
  - Новые сотрудники используют полную документацию.
  - Опытные сотрудники используют краткое руководство для экономии времени.


### 9.1.3. Простые источники для документации

#### 9.1.3.1. Сохранение скриншотов
- Делайте скриншоты на каждом шаге выполнения задачи.
- Добавляйте краткие описания к каждому скриншоту.
- Скриншоты создают наглядное и детализированное руководство.

#### 9.1.3.2. Сохранение содержимого командной строки
- Копируйте и вставляйте вывод командной строки в документ.
- Используйте команды `script` (сохраняет сеанс) и `history` (список выполненных команд).
- Сохраненные команды могут стать основой для автоматизации.

#### 9.1.3.3. Применение электронной почты
- Используйте переписку по электронной почте как источник документации.
- Объединяйте сообщения в один файл для удобства.
- Сортируйте письма по темам для поиска полезной информации.

#### 9.1.3.4. Изучение системы заявок
- Используйте систему заявок для создания базы решений.
- Включайте команды и результаты в журнал обработки заявок.
- Добавляйте пометки для процессов, требующих документирования.
- Создавайте отдельную очередь для заявок, которые нужно описать в документации.


### 9.1.4. Преимущества контрольных листов
- **Контрольные листы** — это списки действий, где каждый шаг описан отдельно.
- Позволяют избежать пропусков этапов и повышают уверенность в выполнении задач.
- Подходят для менее опытных сотрудников, так как упрощают выполнение сложных процессов.
- Могут использоваться для отчетности (например, подписанные листы для важных задач).
- Примеры использования:
  - Найм и увольнение сотрудников.
  - Установка операционных систем.
  - Архивация данных.
  - Обеспечение безопасности ОС.
- Автоматизация отдельных шагов из контрольных листов упрощает процесс.

### 9.1.5. Хранение документации
- **Централизованное хранилище** документов облегчает поиск и обновление.
- Создайте директорию с общим доступом и добавьте файл `README` с правилами.
- Организуйте поддиректории по темам (например, рабочие станции, принтеры, Linux).
- Используйте информативные имена файлов для удобства поиска.
- Внедрите **систему контроля версий** (например, SubVersion) для отслеживания изменений.
- Веб-сайт может быть хранилищем, но требует больше усилий для поддержки.
- Пример: директория `/home/adm/docs` с описательными именами файлов (например, `how-to-create-accounts.txt`).

### 9.1.6. Системы wiki
- **Wiki** — веб-средство для совместной работы и публикации документов.
- Позволяет легко добавлять, редактировать и обновлять документы.
- **Особенности wiki:**
  - Встроенный контроль версий для отслеживания изменений.
  - Аутентификация пользователей и управление доступом.
  - Поддержка текста, HTML и специальных тегов wiki.
  - Автоматическое преобразование URL и WikiWords в ссылки.
  - Простое форматирование (например, `*полужирный*`, `_подчеркнутый_`).
- **Преимущества:**
  - Любой пользователь может исправить ошибку или обновить информацию.
  - История изменений позволяет откатить нежелательные правки.
  - Подходит для создания таблиц содержания и структурированных хранилищ.
- **Пример использования:**
  - Внутренний wiki для хранения контактных данных, графиков, инструкций и даже рецептов.
- **Выбор wiki:**
  - Используйте [WikiMatrix](https://www.wikimatrix.org) для сравнения и выбора подходящей системы.

### 9.1.7. Средство поиска
- **Необходимость поиска**: Для эффективной работы системы документации требуется встроенная поисковая система.
- **Критерии выбора**: Учитывать уровень детализации, опции поиска, типы документов для индексирования.
- **Типы поиска**: По названиям, тексту, содержимому, ключевым словам, метаданным.
- **Сложные запросы**: Не все системы поддерживают (например, поиск по фразам, датам).

### 9.1.8. Проблемы внедрения
- **Вовлечение пользователей**: Успех зависит от участия сообщества. Противники — часто "старая гвардия".
- **Автоматизация**: Генерация раздела "Последние изменения", RSS-трансляции для упрощения принятия новшеств.
- **Пример внедрения wiki**: Том внедрил wiki без одобрения, коллеги заинтересовались, система стала официальной.

### 9.1.9. Самоуправление или прямое управление
- **Выбор модели**: Самоуправление или управление менеджером/администратором.
- **Роль менеджера**: Поддержка инфраструктуры, улучшение удобства, перемещение документов.
- **Примеры улучшений**: Анализ журналов поиска, создание FAQ на основе заявок.
- **Цель менеджера**: Развитие системы, а не цензура.


### 9.2. Тонкости
#### 9.2.1. Динамическое хранилище документов
- **Живая документация**: Хранилище, которое обновляется для удовлетворения потребностей среды (пример: Википедия).
- **Взаимодействие**: Пользователи могут редактировать, комментировать, собирать документы в обзоры.
- **Централизация**: Не обязательно интегрировать всё в wiki, достаточно центральной точки с ссылками на другие системы.
- **Пример использования**: Разные wiki для разных задач (DocuWiki, Trac, RT).

#### 9.2.2. Система управления содержимым (CMS)
- **CMS**: Система публикации для веб-сайтов (пример: газетные статьи, IT-порталы).
- **Уровни CMS**:
  - **Хранилище**: База данных или файловая система с метаданными.
  - **История**: Контроль версий, разрешения, регистрация событий.
  - **Представление**: Пользовательский интерфейс, функции контроля (чтение, редактирование).
- **Примеры CMS**: Drupal, MediaWiki.

#### 9.2.3. Культура отношения
- **Культура участия**: Люди должны быть уверены, что их вклад важен.
- **Модерация**: Не все документы должны быть открыты для редактирования, но комментарии и контроль версий помогают исправлять ошибки.
- **Адаптация**: Пользователям нужно время, чтобы привыкнуть к системе.
- **Эволюция документации**: От стихийной системы к формализованной.

#### 9.2.4. Классификация и структурирование
- **Минимальная структура**: Не стоит перегружать wiki структурированием на ранних этапах.
- **Гибкость**: Обновление страниц должно быть простым, как отправка email.
- **Шаблоны**: Использование шаблонов для часто создаваемых документов.
- **Поиск vs категории**: С ростом объема данных поиск становится важнее категорий.

#### 9.2.5. Дополнительное применение документации
- **Служба самостоятельной помощи**:
  - Новости, обновления, политики, инструкции (How-To).
  - Примеры: "Как войти через VPN", "Настройка синхронизации".
  - Интеграция с инструментами мониторинга (MRTG, проверка лицензий).
- **Внутренние документы группы**:
  - Хранение знаний группы для преемственности.
  - Ограниченный доступ для группы и руководства.
- **Документы How-To**:
  - Краткие инструкции для решения конкретных задач.
  - Примеры: настройка почты, удаленный доступ, доступ к принтерам.
  - Полезны для университетов и организаций с большим количеством пользователей.

### 9.2.5.4. Часто задаваемые вопросы (FAQ)
- **FAQ**: Список распространенных вопросов и ответов, часто организованный в разделы.
- **Отличие от HOWTO**: FAQ — набор вопросов и ответов, HOWTO — разбор одной темы.
- **Создание FAQ**: Анализ запросов из системы поддержки для выявления частых вопросов.
- **Примеры вопросов**: Загрузка драйверов, создание блогов для добровольцев.

### 9.2.5.5. Справочные списки
- **Назначение**: Списки редко используемых, но важных объектов.
- **Примеры списков**:
  - Контакты поставщиков.
  - Серийные номера оборудования.
  - Лицензионные ключи.
  - Совместимость оборудования.
  - Каталог сотрудников.
  - Корпоративные сокращения.
  - Рекомендации для командированных.

### 9.2.5.6. Процедуры
- **Соответствие стандартам**: ISO, OSHA, закон Сарбейнса–Оксли.
- **Документирование процедур**: Контрольные списки, скрипты, журналы регистрации.
- **Польза**: Даже без обязательств, документирование упрощает выполнение задач (например, отключение генератора).

### 9.2.5.7. Техническая библиотека
- **Содержание**: Документы от поставщиков, статьи, руководства.
- **Организация**: Алфавитный порядок или классификация библиотекарем.
- **Проблема**: Слишком сложная классификация затрудняет поиск.

### 9.2.6. Ссылки на внешние источники
- **Полезные ресурсы**: Блоги, форумы, энциклопедии (например, Википедия).
- **Безопасность ссылок**: Использование службы перенаправления для сохранения анонимности.
- **Примеры**: Обучающие статьи, форумы поддержки, технические публикации.

### 9.3. Заключение
- **Преимущества документации**:
  - Экономия времени системных администраторов.
  - Повторяемость процессов без ошибок.
  - Упрощение передачи знаний.
- **Создание документации**:
  - Использование шаблонов, скриншотов, архивов почты.
  - Контрольные листы для многошаговых процедур.
- **Хранилища документации**:
  - Wiki — удобный инструмент для создания и обновления.
  - Дополнительные службы: HOWTO, FAQ, справочные списки.
- **Культура документирования**:
  - Обучение и шаблоны снижают барьер для участия.
  - Документация экономит время и улучшает систему.